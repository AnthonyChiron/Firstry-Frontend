<div class="main">
  <loader *ngIf="isLoading"></loader>
  <h1 class="title">INFOS</h1>
  <card
    *ngIf="!isLoading && contest"
    title="Informations générale"
    [btn]="!edit"
    btnIcon="fa-solid fa-pen-to-square fa-lg"
    (btnClicked)="edit = !edit"
  >
    <div class="infosForm" [formGroup]="infosForm">
      <input-text
        name="name"
        type="Text"
        placeholder="Nom..."
        label="Nom du contest"
        formControlName="name"
        [edit]="edit"
        [error]="
          touched &&
          (fus.isFieldInvalid('name') || infosForm.get('name').value == '')
        "
      ></input-text>
      <input-text
        name="description"
        type="Text"
        placeholder="Description..."
        label="Description du contest"
        formControlName="description"
        [edit]="edit"
        [error]="
          touched &&
          (fus.isFieldInvalid('description') ||
            infosForm.get('description').value == '')
        "
      ></input-text>
      <div class="flexRow">
        <input-text
          name="startDate"
          type="Date"
          label="Date de début"
          formControlName="startDate"
          class="fullWidth"
          [edit]="edit"
          [error]="
            touched &&
            (fus.isFieldInvalid('startDate') ||
              infosForm.get('startDate').value == '')
          "
        ></input-text>
        <input-text
          name="endDate"
          type="Date"
          label="Date de fin"
          formControlName="endDate"
          class="fullWidth"
          [edit]="edit"
          [error]="
            touched &&
            (fus.isFieldInvalid('endDate') ||
              infosForm.get('endDate').value == '')
          "
        ></input-text>
      </div>
      <input-adress label="Lieu" formControlName="location"></input-adress>
      <div class="buttons">
        <btn
          *ngIf="edit"
          (click)="cancel()"
          type="secondary"
          label="Annuler"
          icon="fa-solid fa-xmark fa-lg"
        ></btn>
        <btn
          *ngIf="edit"
          (click)="save()"
          type="primary"
          label="Confirmer"
          icon="fa-solid fa-check fa-lg"
        ></btn>
      </div>
    </div>
  </card>
  <card title="Branding"></card>
  <p *ngIf="!isLoading && !contest">Contest introuvable</p>
</div>
